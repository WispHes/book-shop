# Как запустить проект

### 1 - Создать ./env и поместить туда
```
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=12345
DB_NAME=postgres
SERVER_PORT=8080
SSL_MODE=disable
```
### 2 - Загрузить докер образ и запустить контейнер бд
```
docker run --name=restful -e POSTGRES_PASSWORD='12345' -p 5432:5432 -d --rm postgres
```
### 3 - Применить миграции
```
make migrate
```
### 4 - Скачать все пакеты go приложения
```
go mod tidy
```
### 5 - Запустить приложение


## Примеры запросов API

Регистрация пользователя:
Если под таким email уже есть пользователь в бд, то зарегистрироваться не получиться
* POST ```/auth/sign-up```
* Тело запроса
  ```json
  {
    "username": "user",
    "email": "user@gmail.com",
    "password": "123"
  }
  ```

Получение токен авторизации:
* POST ```/auth/sign-in```
* Тело запроса
  ```json
  {
    "email": "user@gmail.com",
    "password": "123"
  }
  ```
Администратором можно стать только через бд, поменяв флаг is_admin на true

Получение списка всех категорий:
* GET ```/api/categories```

Получение определенной категории:
* GET ```/api/categories/{id}```

Добавление новой категории:
Создавать категорию может только админ
Если такая категория уже есть в бд, то создать ее копию у нас не получиться
* POST ```/api/category```
* Тело запроса
  ```json
  {
    "title": "Sport"
  }
  ```

Изменение существующей категории:
Изменять категорию может только админ
Если новое название категории уже существует в бд, то изменение не произойдет
* PUT ```/api/category/{id}```
* Тело запроса
  ```json
  {
    "title": "Sport"
  }
  ```
